<div class="app-content" xmlns="http://www.w3.org/1999/html">
    <div class="app-title">
        <div class="div">
            <h1>
                <i class="fa fa-ticket" aria-hidden="true"></i>
                Asset Requisition Form
            </h1>
        </div>
        <ul class="app-breadcrumb breadcrumb">
            <li class="breadcrumb-item">
                <a class="fa fa-home fa-lg breadcrumb-home-link" (click)="goToDashboard()"></a>
            </li>
            <li class="breadcrumb-item"><span class="breadcrumb-item-router">Asset Requisition Form List</span></li>
        </ul>
    </div>
    <ul class="nav nav-tabs">
        <li class="nav-item active-tab-nav" (click)="changeTab(1)">
            <a class="nav-link" [ngClass]="{active:tab==1}">Active</a>
        </li>
        <li class="nav-item active-tab-nav" (click)="changeTab(2)">
            <a class="nav-link" [ngClass]="{active:tab==2}">Rejected</a>
        </li>
<!--        <li class="nav-item active-tab-nav" (click)="changeTab(3)">-->
<!--            <a class="nav-link" [ngClass]="{active:tab==3}">Acknowledge</a>-->
<!--        </li>-->
    </ul>

    <!--  Pending Tab   -->

<!--    <div class="row">-->
<!--        <div class="col-md-12" >-->

            <div class="tile" *ngIf="tab == 1">
                <div class="tile-body">
                    <div class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer">
                        <div class="row">
                            <div class="col-sm-2 form-group">
                                <input class="form-control form-control-sm" type="text" [(ngModel)]="data.indentNumber"
                                       placeholder="Search By Requisition Number" required
                                       (ngModelChange)="getCount()"
                                       autocomplete="false">
                            </div>
                            <div class="col-sm-2 form-group">
                                <input class="form-control form-control-sm" type="text" [(ngModel)]="data.custodianName"
                                       placeholder="Search By Custodian Name" required
                                       (ngModelChange)="getCount()"
                                       autocomplete="false">
                            </div>
                            <div class="col-sm-2 form-group">
                                <input class="form-control form-control-sm" type="text" [(ngModel)]="data.vendorName"
                                       placeholder="Search By Vendor Name" required
                                       (ngModelChange)="getCount()"
                                       autocomplete="false">
                            </div>

                            <div class="form-group col-sm-2">
                                <ng-select [(ngModel)]="data.siteId"
                                           [ngModelOptions]="{standalone: true}"
                                           bindValue="id"
                                           bindLabel="attrs.siteLable"
                                           placeholder="Select Site"
                                           (change)="getCount()"
                                           [clearable]="false">
                                    <ng-option value="" selected>Select Site</ng-option>
                                    <ng-option *ngFor="let site of sitesStore"
                                               [value]="site.id">{{site.attrs.siteLable}}</ng-option>
                                </ng-select>
                            </div>

                            <div class="col-sm-2 p-0 text-right form-group">
                                <button type="button" *ngIf="currentUser.role !== 76"
                                        class="btn btn-sm btn-danger btn-all-shadow waves-effect waves-light form-group"
                                        title="Add Expense"
                                        [routerLink]="['add']">
                                    <i class="fa fa-user-plus" aria-hidden="true"></i>
                                    Add
                                </button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 pl-0 pr-0 table-responsive">
                                <table class="table table-hover dataTable text-center" role="grid" id="rejectTableData"
                                       aria-describedby="sampleTable_info">
                                    <thead>
                                    <tr role="row" class="table-bordered" style="white-space: nowrap">
                                        <th>S.No</th>
                                        <th>Asset Req No</th>
                                        <th>Asset Category</th>
                                        <th>Asset Sub Category</th>
                                        <th>Site</th>
<!--                                        <th>Quantity</th>-->
<!--                                        <th>Description</th>-->
                                        <th>Custodian </th>
                                        <th>Created By </th>
<!--                                        <th>Next Status</th>-->
                                        <th >Status</th>
                                    </tr>
                                    </thead>
                                    <tbody *ngFor="let asset of getAllAssetList ; let i = index" style="cursor: pointer">
                                    <tr  (click)="toggleRowExpand(i, asset)">
                                        <td>{{(data.page - 1) * data.size + i + 1}}</td>
                                        <td>{{asset.indentNumber}}</td>
                                        <td>{{asset.assetCategory}}</td>
                                        <td>{{asset.assetSubCategory}}</td>
                                        <td>{{asset.attrs?.siteCode}}</td>
<!--                                        <td>{{asset.quantity }}</td>-->
<!--                                        <td>{{asset.description}}</td>-->
                                        <td >{{asset.custodianName}}</td>
                                        <td >{{asset.attrs.createdByName}}</td>
                                        <td>
                                            <span class="current-status">{{asset.attrs?.currentStatus}}</span>&nbsp; <small>(Current Status)</small>&nbsp;&nbsp;
                                            <i class="fa fa-arrow-right"></i>&nbsp;&nbsp;
                                            <span class="next-status">{{asset.attrs?.nextStatus}}</span> &nbsp;<small>(Next Status)</small>
                                        </td>
<!--                                        <td *ngIf="currentUser.role === 26">{{asset.attrs.currentStatus}}</td>-->
<!--                                        <td *ngIf="currentUser.role === 31">-->
<!--                                            <button class="action-icon-style waves-effect waves-light" title=""-->
<!--                                                    (click)="commit(asset)"-->
<!--                                                    *ngIf="asset.attrs.currentStatus === 'OM_SUBMITTED'"-->
<!--                                                    style="padding: 0; background-color: #db2b30; color: white">-->
<!--                                                COMMIT-->
<!--                                            </button>-->
<!--                                            <span *ngIf="asset.attrs.currentStatus !== 'OM_SUBMITTED'">{{asset.attrs.currentStatus}}</span>-->
<!--                                        </td>-->

<!--                                        <td *ngIf="currentUser.role === 40">-->
<!--                                            <button class="action-icon-style waves-effect waves-light"-->
<!--                                                    title="" *ngIf="asset.attrs.currentStatus === 'RM_SUBMITTED'"-->
<!--                                                    style="padding: 0; background-color: #db2b30; color: white">-->
<!--                                            </button>-->
<!--                                            <span *ngIf="asset.attrs.currentStatus !== 'RM_SUBMITTED'">{{asset.attrs.currentStatus}}</span>-->
<!--                                        </td>-->
<!--                                        <td *ngIf="currentUser.role === 76">-->
<!--                                            <button class="action-icon-style waves-effect waves-light"-->
<!--                                                    title=""-->
<!--                                                    style="padding: 0; background-color: #db2b30; color: white">-->
<!--                                                <i class="fa fa-trash fa-1x" aria-hidden="true"></i>-->
<!--                                            </button>-->
<!--                                            <button class="action-icon-style waves-effect waves-light"-->
<!--                                                    title=""-->
<!--                                                    style="padding: 0; height: 35px;width: 35px; background-color: #db2b30; color: white">-->
<!--                                                <i class="fa fa-trash fa-1x" aria-hidden="true"></i>-->
<!--                                            </button>-->
<!--                                        </td>-->
                                    </tr>

                                    <!--                                                            Editable Fields -->

                                    <tr *ngIf="expandedRows[i]">
                                        <td colspan="8">
                                            <div class="tile">
                                                        <div class="tile-body scrolling-container">
<!--                                                            {{getStatusCheck(asset.createdBy, asset.attrs.currentStatus, asset.attrs?.nextStatus)['fieldBoo']}} -&#45;&#45;&#45;&#45; {{getStatusCheck(asset.createdBy, asset.attrs.currentStatus, asset.attrs?.nextStatus)['staticBoo']}}-->
                                                            <fieldset class="form-fieldset" *ngIf="getStatusCheck(asset.createdBy, asset.attrs.currentStatus, asset.attrs?.nextStatus)['fieldBoo']">
                                                                <legend style="width: unset; max-width: none">Requisition Details: </legend>
                                                            <div class="row">

                                                                <div class="form-group col-sm-3 text-left">
                                                                    <label class="control-label">Asset Category<b
                                                                            class="mandatory-field">*</b></label>
                                                                    <ng-select [(ngModel)]="assetQuery.assetCategory"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               bindValue="value"
                                                                               bindLabel="key"
                                                                               placeholder="Select Asset"
                                                                               (ngModelChange)="getAllSubCategory()"
                                                                               [clearable]="false"
                                                                               >
        <!--                                                                [ngClass]="asset.attrs.currentStatus === 'COMMITTED'? 'inactive' : ''"-->
                                                                        <ng-option value="" selected>Select Asset Category</ng-option>
                                                                        <ng-option *ngFor="let Asset of assetCategoryTypes"
                                                                                   [value]="Asset.value">{{Asset.key}}</ng-option>
                                                                    </ng-select>
                                                                </div>
                                                                <div class="form-group col-sm-3 text-left">
                                                                    <label class="control-label">Asset Sub Category<b
                                                                            class="mandatory-field">*</b></label>
                                                                    <ng-select [(ngModel)]="assetQuery.assetSubCategory"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               bindValue="value"
                                                                               bindLabel="key"
                                                                               placeholder="Select Sub Category"
                                                                               [clearable]="false"
                                                                               >
                                                                        <ng-option value="" selected>Select Sub Category</ng-option>
                                                                        <ng-option *ngFor="let subCat of assetSubCategoryTypes"
                                                                                   [value]="subCat.value">{{subCat.key}}</ng-option>
                                                                    </ng-select>
                                                                </div>
                                                                <div class="form-group col-sm-3 text-left">
                                                                    <label class="control-label">Select Site<b
                                                                            class="mandatory-field">*</b></label>
                                                                    <ng-select [(ngModel)]="assetQuery.siteId" class="diabled-Drop"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               bindValue="id"
                                                                               bindLabel="name"
                                                                               placeholder="Select Site"
                                                                               [clearable]="false"
                                                                               (change)="getCustodianDetails()"
                                                                               >
                                                                        <ng-option value="" selected>Select Site</ng-option>
                                                                        <ng-option *ngFor="let site of sitesStore"
                                                                                   [value]="site.id">{{site.name}}</ng-option>
                                                                    </ng-select>
                                                                </div>


                                                                <div class="form-group col-sm-3">
                                                                    <label class="control-label">Select Custodian Name<b
                                                                            class="mandatory-field">*</b></label>
                                                                    <ng-select [(ngModel)]="assetQuery.custodianId"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               bindValue="id"
                                                                               bindLabel="custodianName"
                                                                               placeholder="Select Custodian Name"
                                                                               [clearable]="false">
                                                                        <ng-option value="" selected>Select Custodian Name</ng-option>
                                                                        <ng-option *ngFor="let data of custodianDetails"
                                                                                   [value]="data.custodianId">{{data.custodianName}}</ng-option>
                                                                    </ng-select>
                                                                </div>
                                                                <div class="col-sm-3 form-group text-left">
                                                                    <label class="control-label">Quantity</label>
                                                                    <input class="form-control form-control-sm" type="number"
                                                                           [(ngModel)]="assetQuery.quantity"

                                                                           [ngModelOptions]="{standalone: true}"
                                                                           placeholder="Enter Quantity" required/>
                                                                </div>
                                                                <div class="col-sm-3 form-group text-left">
                                                                    <label class="control-label">Asset Description</label>
                                                                    <textarea class="form-control form-control-sm" type="text"

                                                                              [(ngModel)]="assetQuery.description"
                                                                              [ngModelOptions]="{standalone: true}"
                                                                              rows="3" cols="50"
                                                                              placeholder="Enter Asset Description" required></textarea>
                                                                </div>
                                                                <div class="col-sm-3 form-group text-left">
                                                                    <label class="control-label">Shipping Address</label>
                                                                    <textarea class="form-control form-control-sm" type="text"

                                                                              [(ngModel)]="assetQuery.shippingAddress"
                                                                              [ngModelOptions]="{standalone: true}"
                                                                              rows="3" cols="50"
                                                                              placeholder="Enter Shipping Address" required></textarea>
                                                                </div>

                                                            </div>



                                                                <div class="row">
                                                                    <div class="col-sm-12 form-group">
                                                                        <table class="table table-hover text-center sticky-invoice">
                                                                            <thead>
                                                                            <tr>
                                                                                <th>S.No</th>
                                                                                <th>Asset SubCategory</th>
                                                                                <th>Quantity</th>
                                                                                <!--                                                                                <th>Actions</th>-->
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr class="sticky-body" *ngFor="let item of assetQuery.itemsList; let i = index">
                                                                                <td style="border: 2px solid #dee2e6">{{ i + 1 }}</td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">{{ item.assetSubCategory }}</td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">
                                                                                    <span *ngIf="editIndex !== i; else editMode">
                                                                                        {{ item.quantity }}
                                                                                        <button class="btn btn-sm btn-outline-info waves-effect waves-black edit-user-button"
                                                                                                *ngIf="assetQuery.status === 'OM_PENDING' || assetQuery.status === 'RM_PENDING' || assetQuery.status === 'VL_PENDING'"
                                                                                                style="padding: 8px 9px; border: none !important; border-radius: 15px !important;" title="Edit"
                                                                                                (click)="startEditing(i)">
                                                                                            <i class="fa fa-pencil" style="font-size: 20px !important;"></i>
                                                                                        </button>
                                                                                    </span>
                                                                                    <ng-template #editMode>
                                                                                        <input type="number" class="form-control" [(ngModel)]="assetQuery.itemsList[editIndex!].quantity" />
                                                                                    </ng-template>
                                                                                </td>
                                                                                <!--                                                                                <td style="border: 2px solid #dee2e6">-->
                                                                                <!--                                                                                    &lt;!&ndash; No buttons here &ndash;&gt;-->
                                                                                <!--                                                                                </td>-->
                                                                            </tr>
                                                                            <tr>
                                                                                <td style="border: 2px solid #dee2e6; text-align: end" colspan="3"
                                                                                    *ngIf="assetQuery.status === 'OM_PENDING' || assetQuery.status === 'RM_PENDING' || assetQuery.status === 'VL_PENDING'">
                                                                                    <button class="btn btn-success btn-sm" (click)="saveQuantity()">Update Qty</button>
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                            <tfoot>
                                                                            <tr *ngIf="!assetQuery.itemsList || assetQuery.itemsList.length === 0">
                                                                                <th colspan="4" style="text-align: center">No Records exist.</th>
                                                                            </tr>
                                                                            </tfoot>
                                                                        </table>


                                                                    </div>
                                                                </div>
                                                            </fieldset>

<!--                                                            disabled Fields -->
                                                            <fieldset class="form-fieldset" *ngIf="getStatusCheck(asset.createdBy, asset.attrs.currentStatus, asset.attrs?.nextStatus)['staticBoo']">
                                                            <legend style="width: unset; max-width: none">Requisition Details: </legend>
                                                            <div class="row">
                                                                <div class="col-sm-6">
                                                                    <div class="form-group">
                                                                        <label class="cus-font-label">Asset Category: </label>&nbsp;
                                                                        <span class="shift-tem-text-Re">{{ assetQuery.assetCategory|| 'NA'}}</span>
                                                                    </div>
                                                                </div>
<!--                                                                <div class="col-sm-6">-->
<!--                                                                    <div class="form-group">-->
<!--                                                                        <label class="cus-font-label">Asset Sub Category: </label>&nbsp;-->
<!--                                                                        <span class="shift-tem-text-Re">{{ assetQuery.assetSubCategory|| 'NA'}}</span>-->
<!--                                                                    </div>-->
<!--                                                                </div>-->
                                                                <div class="col-sm-6">
                                                                    <div class="form-group">
                                                                        <label class="cus-font-label">Site: </label>&nbsp;
                                                                        <span class="shift-tem-text-Re">{{assetQuery.attrs.siteName}} ({{ assetQuery.attrs.siteCode|| 'NA'}})</span>
                                                                    </div>
                                                                </div>
<!--                                                                <div class="col-sm-6">-->
<!--                                                                    <div class="form-group">-->
<!--                                                                        <label class="cus-font-label">Model: </label>&nbsp;-->
<!--                                                                        <span class="shift-tem-text-Re">{{ assetQuery.model|| 'NA'}}</span>-->
<!--                                                                    </div>-->
<!--                                                                </div>-->
<!--                                                                <div class="col-sm-6">-->
<!--                                                                    <div class="form-group">-->
<!--                                                                        <label class="cus-font-label">Quantity: </label>&nbsp;-->
<!--                                                                        <span class="shift-tem-text-Re">{{ assetQuery.quantity|| 'NA'}}</span>-->
<!--                                                                    </div>-->
<!--                                                                </div>-->


<!--                                                                <div class="col-sm-6">-->
<!--                                                                    <div class="form-group">-->
<!--                                                                        <label class="cus-font-label" style="margin-bottom: 10px !important;">Actual Quantity: </label>&nbsp;-->
<!--                                                                        <span *ngIf="!editingQuantity; else editQuantity">-->
<!--                                                                            <span class="shift-tem-text-Re">{{ assetQuery.quantity || 'NA' }}</span>-->
<!--                                                                                <button class="btn btn-sm btn-outline-info waves-effect waves-black edit-user-button"-->
<!--                                                                                        *ngIf="assetQuery.status === 'OM_PENDING' || assetQuery.status === 'RM_PENDING' || assetQuery.status === 'VL_PENDING'"-->
<!--                                                                                        style="border-radius: 0;padding: 8px 9px; border: none !important; border-radius: 15px !important;" title="Edit"-->
<!--                                                                                        (click)="startEditingQuantity()"-->
<!--                                                                                ><i class="fa fa-pencil" style="font-size: 20px !important;"></i></button>-->
<!--                                                                            </span>-->
<!--                                                                        <ng-template #editQuantity>-->
<!--                                                                            <input type="number" [(ngModel)]="assetQuery.quantity" class="form-control form-group">-->
<!--                                                                            <button class="btn btn-success btn-sm btn-all-shadow waves-effect waves-light"-->
<!--                                                                                    (click)="saveQuantity()">Save</button> &nbsp;-->
<!--                                                                            <button class="btn btn-danger btn-sm btn-all-shadow waves-effect waves-light"-->
<!--                                                                                    (click)="cancelEditingQuantity()">Cancel</button>-->
<!--                                                                        </ng-template>-->
<!--                                                                    </div>-->
<!--                                                                </div>-->


<!--                                                                <div class="col-sm-6">-->
<!--                                                                    <div class="form-group">-->
<!--                                                                        <label class="cus-font-label">Asset Description: </label>&nbsp;-->
<!--                                                                        <span class="shift-tem-text-Re">{{ assetQuery.description|| 'NA'}}</span>-->
<!--                                                                    </div>-->
<!--                                                                </div>-->
                                                                <div class="col-sm-6">
                                                                    <div class="form-group">
                                                                        <label class="cus-font-label">Acknowledged Qty: </label>&nbsp;
                                                                        <span class="shift-tem-text-Re">{{ assetQuery.custodianQty|| 'NA'}}</span>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                                <div class="row">
                                                                    <div class="col-sm-12 form-group">
                                                                        <table class="table table-hover text-center sticky-invoice">
                                                                            <thead>
                                                                            <tr>
                                                                                <th>S.No</th>
                                                                                <th>Description</th>
                                                                                <th>Asset SubCategory</th>
                                                                                <th>Quantity</th>
<!--                                                                                <th>Actions</th>-->
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr class="sticky-body" *ngFor="let item of assetQuery.itemsList; let i = index">
                                                                                <td style="border: 2px solid #dee2e6">{{ item.serialNumber }}</td>
                                                                                <td style="border: 2px solid #dee2e6">{{ item.description }}</td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">{{ item.assetSubCategory }}</td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">
                                                                                    <span *ngIf="editIndex !== i; else editMode">
                                                                                        {{ item.quantity }}
                                                                                        <button class="btn btn-sm btn-outline-info waves-effect waves-black edit-user-button"
                                                                                                *ngIf="assetQuery.status === 'OM_PENDING' || assetQuery.status === 'RM_PENDING' || assetQuery.status === 'VL_PENDING'"
                                                                                                style="padding: 8px 9px; border: none !important; border-radius: 15px !important;" title="Edit"
                                                                                                (click)="startEditing(i)">
                                                                                            <i class="fa fa-pencil" style="font-size: 20px !important;"></i>
                                                                                        </button>
                                                                                    </span>
                                                                                    <ng-template #editMode>
                                                                                        <input type="number" class="form-control" [(ngModel)]="assetQuery.itemsList[editIndex!].quantity" />
                                                                                    </ng-template>
                                                                                </td>
<!--                                                                                <td style="border: 2px solid #dee2e6">-->
<!--                                                                                    &lt;!&ndash; No buttons here &ndash;&gt;-->
<!--                                                                                </td>-->
                                                                            </tr>
                                                                            <tr>
                                                                                <td style="border: 2px solid #dee2e6; text-align: end" colspan="4"
                                                                                    *ngIf="assetQuery.status === 'OM_PENDING' || assetQuery.status === 'RM_PENDING' || assetQuery.status === 'VL_PENDING'">
                                                                                    <button class="btn btn-success btn-sm" (click)="saveQuantity()">Update Qty</button>
                                                                                </td>
                                                                            </tr>
                                                                            </tbody>
                                                                            <tfoot>
                                                                            <tr *ngIf="!assetQuery.itemsList || assetQuery.itemsList.length === 0">
                                                                                <th colspan="4" style="text-align: center">No Records exist.</th>
                                                                            </tr>
                                                                            </tfoot>
                                                                        </table>


                                                                    </div>
                                                                </div>

                                                        </fieldset>

                                                            <fieldset class="form-fieldset"
                                                                      *ngIf="currentUser.role === 76 && asset.attrs?.currentStatus === 'SIGNED_OFF'">
                                                                <legend style="width: unset; max-width: none">INITIATE PO:
                                                                </legend>
                                                                <div class="row">
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Vendor PAN Number
                                                                            <b class="mandatory-field">*</b></label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               maxlength="10"
                                                                               minlength="10"
                                                                               [(ngModel)]="initiatePo.panCardNumber"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               (ngModelChange)="getVendorPanDetail()"
                                                                               placeholder="Enter Pan Card Number"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Vendor Name <b
                                                                                class="mandatory-field">*</b></label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.vendorName"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter Vendor Name"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Vendor Phone Number
                                                                            <b class="mandatory-field">*</b></label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.mobile"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter Vendor Phone Number"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Vendor
                                                                            Email</label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.vendorEmail"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter Vendor Email"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Beneficiary Name <b
                                                                                class="mandatory-field">*</b></label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.beneficiaryName"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter Beneficiary Name"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Account Number <b
                                                                                class="mandatory-field">*</b></label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.accountNumber"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter Account Number"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">IFSC Code <b
                                                                                class="mandatory-field">*</b></label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.ifscCode"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter IFSC Code" required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Vendor GST Number
                                                                            <b class="mandatory-field">*</b></label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.gstNumber"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter  GST Number"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Vendor Address <b
                                                                                class="mandatory-field">*</b></label>
                                                                        <textarea class="form-control form-control-sm"
                                                                                  type="text"
                                                                                  rows="3" cols="20"
                                                                                  [(ngModel)]="initiatePo.vendorAddress"
                                                                                  [ngModelOptions]="{standalone: true}"
                                                                                  placeholder="Enter Vendor Address"
                                                                                  required></textarea>
                                                                    </div>

                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Billing Address <b
                                                                                class="mandatory-field">*</b></label>
                                                                        <textarea class="form-control form-control-sm"
                                                                                  type="text" disabled
                                                                                  rows="3" cols="20"
                                                                                  [(ngModel)]="initiatePo.billingAddress"
                                                                                  [ngModelOptions]="{standalone: true}"
                                                                                  placeholder="Enter Billing Address"
                                                                                  required></textarea>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Shipping Address <b
                                                                                class="mandatory-field">*</b></label>
                                                                        <textarea class="form-control form-control-sm"
                                                                                  type="text"
                                                                                  rows="3" cols="20"
                                                                                  disabled
                                                                                  [(ngModel)]="initiatePo.shippingAddress"
                                                                                  [ngModelOptions]="{standalone: true}"
                                                                                  placeholder="Enter Shipping Address"
                                                                                  required></textarea>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Bill To
                                                                            Email</label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.billToEmail"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter Bill To Email"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Ship To
                                                                            Email</label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.shipToEmail"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter Ship To Email"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Terms <b class="mandatory-field">*</b></label>
                                                                        <textarea class="form-control form-control-sm"
                                                                                  rows="3" cols="20"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.terms"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                                  placeholder="Enter Terms" required>

                                                                        </textarea>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Warranty</label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.warranty"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter Warranty" required/>
                                                                    </div>
<!--                                                                    <div class="col-sm-3 form-group text-left">-->
<!--                                                                        <label class="control-label">Quantity</label>-->
<!--                                                                        <input class="form-control form-control-sm"-->
<!--                                                                               type="number"-->
<!--                                                                               disabled-->
<!--                                                                               [(ngModel)]="assetQuery.quantity"-->
<!--                                                                               [ngModelOptions]="{standalone: true}"-->
<!--                                                                               placeholder="Enter Quantity" required/>-->
<!--                                                                    </div>-->

<!--                                                                    <div class="col-sm-3 form-group text-left">-->
<!--                                                                        <label class="control-label">Rate <b-->
<!--                                                                                class="mandatory-field">*</b></label>-->
<!--                                                                        <input class="form-control form-control-sm"-->
<!--                                                                               type="number"-->
<!--                                                                               [(ngModel)]="initiatePo.rate"-->
<!--                                                                               (ngModelChange)="calculatePreGstAmount()"-->
<!--                                                                               [ngModelOptions]="{standalone: true}"-->
<!--                                                                               placeholder="Enter Rate" required/>-->
<!--                                                                    </div>-->
<!--                                                                    <div class="col-sm-3 form-group text-left">-->
<!--                                                                        <label class="control-label">PreGst Amount <b-->
<!--                                                                                class="mandatory-field">*</b></label>-->
<!--                                                                        <input class="form-control form-control-sm"-->
<!--                                                                               type="number"-->
<!--                                                                               [(ngModel)]="initiatePo.preGstAmount"-->
<!--                                                                               disabled-->
<!--                                                                               [ngModelOptions]="{standalone: true}"-->
<!--                                                                               placeholder="Enter PreGst Amount"-->
<!--                                                                               required/>-->
<!--                                                                    </div>-->
<!--                                                                    <div class="col-sm-3 form-group text-left">-->
<!--                                                                        <label class="control-label">GST Amount <b-->
<!--                                                                                class="mandatory-field">*</b></label>-->
<!--                                                                        <input class="form-control form-control-sm"-->
<!--                                                                               type="number"-->
<!--                                                                               [(ngModel)]="initiatePo.gstAmount"-->
<!--                                                                               [ngModelOptions]="{standalone: true}"-->
<!--                                                                               (ngModelChange)="calculateTotalAmount()"-->
<!--                                                                               placeholder="Enter GST Amount" required/>-->
<!--                                                                    </div>-->
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Additional
                                                                            Expenses</label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="number"
                                                                               [(ngModel)]="initiatePo.additionalExpenses"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               (ngModelChange)="totalFun('')"
                                                                               placeholder="Enter Additional Expenses"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group">
                                                                        <label class="control-label">Proforma Date <b class="mandatory-field">*</b></label>
                                                                        <div class="input-group">
                                                                            <input class="form-control form-control-sm" placeholder=" Proforma Date"
                                                                                   [(ngModel)]="initiatePo.proformaDate"
                                                                                   [ngModelOptions]="{standalone: true}"
                                                                                   #dp1="bsDatepicker"
                                                                                   readonly
                                                                                   [bsConfig]="{ dateInputFormat: 'YYYY-MM-DD', containerClass: 'theme-red', showTodayButton: true, todayPosition: 'center',  isAnimated: true }"
                                                                                   bsDatepicker required >
                                                                            <div class="input-group-append">
                                                                                <button class="btn btn-light btn-sm"
                                                                                        style="border: 1px solid #ced4da;"
                                                                                        (click)="dp1.show()"
                                                                                        [attr.aria-expanded]="dp1.isOpen"  >
                                                                                    <i class="fa fa-calendar"></i>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Proforma Invoice Number <b
                                                                                class="mandatory-field">*</b></label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="text"
                                                                               [(ngModel)]="initiatePo.proformaInvoiceNumber"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter Proforma Invoice Number"
                                                                               required/>
                                                                    </div>
                                                                    <div class="col-sm-3 form-group text-left">
                                                                        <label class="control-label">Total Amount <b
                                                                                class="mandatory-field">*</b></label>
                                                                        <input class="form-control form-control-sm"
                                                                               type="number"
                                                                               disabled
                                                                               [(ngModel)]="initiatePo.totalAmount"
                                                                               [ngModelOptions]="{standalone: true}"
                                                                               placeholder="Enter Total Amount"
                                                                               required/>
                                                                    </div>
                                                                    <!--                                                                <div class="col-sm-3 form-group text-left">-->
                                                                    <!--                                                                    <label class="control-label">Vendor Gst Number</label>-->
                                                                    <!--                                                                    <input class="form-control form-control-sm" type="text"-->
                                                                    <!--                                                                              [(ngModel)]="initiatePo.vendorGstNumber"-->
                                                                    <!--                                                                              [ngModelOptions]="{standalone: true}"-->
                                                                    <!--                                                                              placeholder="Enter Vendor Gst Number" required/>-->
                                                                    <!--                                                                </div>-->

                                                                </div>







                                                                <div class="row" >
                                                                    <div class="col-sm-12 form-group">
                                                                        <table class="table table-hover text-center sticky-invoice">
                                                                            <thead>
                                                                            <tr>
                                                                                <th>S.No</th>
                                                                                <th>Description</th>
                                                                                <th>Asset Sub Category</th>
                                                                                <th>Quantity </th>
                                                                                <th>Rate<b class="mandatory-field">*</b></th>
                                                                                <th>PreGst Amount</th>
                                                                                <th>GST Amount</th>
                                                                                <th>Item Total Amount</th>
                                                                            </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                            <tr class="sticky-body" *ngFor="let item of assetQuery.itemsList; let i = index; let last = last;">
                                                                                <td style="border: 2px solid #dee2e6">
                                                                                    {{ i + 1}}
                                                                                </td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">
                                                                                    <input placeholder="Asset description" type="text"
                                                                                           class="form-control form-control-sm text-right" min="0"
                                                                                           [(ngModel)]="item.description"
                                                                                           [ngModelOptions]="{standalone: true}" />
                                                                                </td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">
                                                                                    <input placeholder="Asset Sub Category" type="text"
                                                                                           class="form-control form-control-sm text-right" min="0"
                                                                                           [(ngModel)]="item.assetSubCategory"
                                                                                           [ngModelOptions]="{standalone: true}" />
                                                                                </td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">
                                                                                    <input placeholder="Enter Quantity" type="number"
                                                                                           class="form-control form-control-sm text-right" min="0"
                                                                                           disabled
                                                                                           [(ngModel)]="item.quantity"
                                                                                           [ngModelOptions]="{standalone: true}" />
                                                                                </td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">
                                                                                    <input placeholder="Enter Rate" type="number"
                                                                                           class="form-control form-control-sm text-right" min="0"
                                                                                           [(ngModel)]="item.rate"
                                                                                           (input)="calculatePreGstAmountByItem(item)"
                                                                                           [ngModelOptions]="{standalone: true}" />
                                                                                </td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">
                                                                                    <input placeholder="Enter PreGst Amount" type="number"
                                                                                           class="form-control form-control-sm text-right" min="0"
                                                                                           disabled
                                                                                           [(ngModel)]="item.preGstAmount"
                                                                                           [ngModelOptions]="{standalone: true}" />
                                                                                </td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">
                                                                                    <input placeholder="Enter GST Amount" type="number"
                                                                                           class="form-control form-control-sm text-right" min="0"
                                                                                           [(ngModel)]="item.gstAmount"
                                                                                           (input)="calculateTotalAmountByItem(item)"
                                                                                           [ngModelOptions]="{standalone: true}" />
                                                                                </td>
                                                                                <td class="widt-120" style="border: 2px solid #dee2e6">
                                                                                    <input placeholder="Enter Total Amount" type="number"
                                                                                           class="form-control form-control-sm text-right" min="0"
                                                                                           disabled
                                                                                           [(ngModel)]="item.totalAmount"
                                                                                           [ngModelOptions]="{standalone: true}" />
                                                                                </td>
<!--                                                                                <td style="border: 2px solid #dee2e6">-->
<!--                                                                                    <div style="display: flex" >-->
<!--                                                                                        <button class="action-icon-style waves-effect waves-red delete-user-button"-->
<!--                                                                                                (click)="deleteItem(i)" title="Delete Item"-->
<!--                                                                                                *ngIf="assetQuery.itemsList.length != 1"-->
<!--                                                                                                style="height: 30px;width: 30px;padding: 0;">-->
<!--                                                                                            <i class="fa fa-trash" aria-hidden="true" style="color: red;font-size: 15px"></i>-->
<!--                                                                                        </button>-->

<!--                                                                                        <button class="action-icon-style waves-effect waves-red delete-user-button"-->
<!--                                                                                                title="Add Item"-->
<!--                                                                                                style="height: 30px;width: 30px;padding: 0;" (click)="addItem()" *ngIf="last">-->
<!--                                                                                            <i class="fa fa-plus-circle" aria-hidden="true"-->
<!--                                                                                               style="color: green; font-size: 15px"></i>-->
<!--                                                                                        </button>-->
<!--                                                                                    </div>-->
<!--                                                                                </td>-->
                                                                            </tr>
                                                                            <tr>
                                                                                <td class="widt-120" colspan="7" style="text-align: end"> Total Amount</td>
                                                                                <td class="widt-120" >
                                                                                    <input placeholder="Enter Total Amount" type="number"
                                                                                           class="form-control form-control-sm text-right" min="0"
                                                                                           disabled
                                                                                           [(ngModel)]="this.initiatePo.totalAmount"
                                                                                           [ngModelOptions]="{standalone: true}" />
                                                                                </td>
<!--                                                                                <td>{{this.initiatePo.totalAmount}}</td>-->
                                                                            </tr>

                                                                            </tbody>
                                                                            <tfoot>
                                                                            <tr *ngIf="assetQuery.itemsList === null">
                                                                                <th colspan="6" style="text-align: center">No Records exist.</th>
                                                                            </tr>
                                                                            </tfoot>
                                                                        </table>
                                                                    </div>
                                                                </div>





                                                            </fieldset>
                                                        </div>
                                                <div class="tile-footer">


                                                    <div class="row">
                                                        <div class="col-md-12 col-md-offset-3">
                                                            <div class="alert alert-danger col-md-12" role="alert" *ngIf="allErrors.length">
                                                                <ul>
                                                                    <li *ngFor="let error of allErrors" style="text-align: left">{{error}}</li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-12 col-md-offset-3" *ngIf="currentUser.role === 31">
                                                            <div class="pull-right">
                                                                <button class="btn btn-sm btn-all-shadow waves-effect waves-light btn-success"
                                                                        (click)="commit(asset)"
                                                                        *ngIf="asset.attrs.currentStatus === 'COMMIT'"> COMMIT
                                                                </button>
                                                                &nbsp;&nbsp;&nbsp;
                                                                <button class="btn btn-sm btn-all-shadow waves-effect waves-light btn-danger"
                                                                        *ngIf="showRejectButtonFun(asset)"
                                                                        (click)="rejectAsset(asset)"
                                                                > Reject
                                                                </button>
<!--                                                                <button *ngIf="asset.attrs.currentStatus !== 'OM_SUBMITTED'"-->
<!--                                                                        class="btn btn-sm btn-all-shadow waves-effect waves-light btn-danger">{{asset.attrs.currentStatus}}-->
<!--                                                                </button>-->
<!--                                                                <button class="btn btn-sm btn-all-shadow waves-effect waves-light btn-success"-->
<!--                                                                        (click)="updateAssetReq(asset)"-->
<!--                                                                        > UPDATE-->
<!--                                                                </button>-->
                                                                &nbsp;&nbsp;&nbsp;
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12 col-md-offset-3" *ngIf="currentUser.role === 40">
                                                            <div class="pull-right">
                                                                <button class="btn btn-sm btn-all-shadow waves-effect waves-light btn-success"
                                                                        (click)="commit(asset)"
                                                                        *ngIf="asset.attrs.currentStatus === 'APPROVE'"> APPROVE
                                                                </button>&nbsp;&nbsp;
                                                                <button class="btn btn-sm btn-all-shadow waves-effect waves-light btn-danger"
                                                                        *ngIf="showRejectButtonFun(asset)"
                                                                        (click)="rejectAsset(asset)"
                                                                > Reject
                                                                </button>
<!--                                                                &nbsp;&nbsp;&nbsp;-->
<!--                                                                <button *ngIf="asset.attrs.currentStatus !== 'OM_SUBMITTED'"-->
<!--                                                                        class="btn btn-sm btn-all-shadow waves-effect waves-light btn-dark">{{asset.attrs.currentStatus}}-->
<!--                                                                </button>-->
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12 col-md-offset-3" *ngIf="currentUser.role === 76">
                                                            <div class="pull-right">
                                                                <button class="btn btn-sm btn-all-shadow waves-effect waves-light btn-success"
                                                                        (click)="commit(asset)"
                                                                        *ngIf="asset.attrs.currentStatus === 'SIGN_OFF'"> SIGN_OFF
                                                                </button>
                                                                &nbsp;&nbsp;&nbsp;
                                                                <button class="btn btn-sm btn-all-shadow waves-effect waves-light btn-danger"
                                                                        *ngIf="showRejectButtonFun(asset)"
                                                                        (click)="rejectAsset(asset)"
                                                                > Reject
                                                                </button> &nbsp;&nbsp;
                                                                <button *ngIf="asset.attrs.currentStatus === 'SIGNED_OFF'"
                                                                        (click)="addPurchasingFun(asset)"
                                                                        class="btn btn-sm btn-all-shadow waves-effect waves-light btn-success">
                                                                    {{asset.attrs.nextStatus}}
                                                                </button>&nbsp;&nbsp;
                                                                <button *ngIf="asset.attrs.currentStatus === 'PO_INITIATED'"
                                                                        (click)="pdfData()"
                                                                        class="btn btn-sm btn-all-shadow waves-effect waves-light btn-danger">Download
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12 col-md-offset-3">
                                                            <div class="pull-right">
                                                                <button class="btn btn-sm btn-all-shadow waves-effect waves-light btn-primary"
                                                                        *ngIf="(currentUser.id === asset.custodianId) && (asset.status === 'ACK_PENDING' || asset.status === 'ACK_PARTIALLY')"
                                                                        (click)="acknowledgeOpenPopUp(asset)"
                                                                        > Acknowledge
                                                                </button>&nbsp;&nbsp;
<!--                                                                {{showRejectButtonFun(asset)}}      [disabled]="(statusRole(asset.status) >= currentUser.role)"-->
<!--                                                                <button class="btn btn-sm btn-all-shadow waves-effect waves-light btn-danger"-->
<!--                                                                        *ngIf="showRejectButtonFun(asset)"-->
<!--                                                                        (click)="rejectAsset(asset)"-->
<!--                                                                        > Reject out-->
<!--                                                                </button>-->

                                                                <!--                                                                        *ngIf="asset.status === 'SIGNED_OFF' ?  currentUser.id !== asset.createdBy && !(asset.status === 'OM_PENDING' || asset.status === 'RM_PENDING' || asset.status === 'VL_PENDING') : false"-->

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr *ngIf="!assetCount || assetCount === 0">
                                        <td colspan="11" style="text-align: center">No Records exist.</td>
                                    </tr>
                                    </tbody>
                                    <tfoot>
                                    <tr *ngIf="assetCount !== 0">
                                        <th colSpan="11">
                                            <div class="pull-right">
                                                Total Count : {{ assetCount || 0}}
                                            </div>
                                        </th>
                                    </tr>
                                    </tfoot>
                                </table>


<!--                                <div class="form-group">-->
<!--                                    <div class="list-row">-->
<!--                                        <ngb-pagination *ngIf="assetCount || assetCount !== 0"-->
<!--                                                        [(page)]="data.page"-->
<!--                                                        [pageSize]="data.size"-->
<!--                                                        [collectionSize]="assetCount"-->
<!--                                                        [boundaryLinks]="true"-->
<!--                                                        (pageChange)="handlePageChange($event)"-->
<!--                                                        [maxSize]="5">-->
<!--                                        </ngb-pagination>-->
<!--                                    </div>-->
<!--                                    <ul class="pagination pull-right" style="margin-top: -49px !important;"-->
<!--                                        *ngIf="assetCount || assetCount !== 0">-->
<!--                                        <li class="page-item" [ngClass]="size == data.size ? 'active' : ''"-->
<!--                                            *ngFor="let size of data.pageSizes" (click)="handlePageSizeChange(size)">-->
<!--                                            <button class="page-link"> {{ size }}-->
<!--                                                <span class="sr-only">(current)</span>-->
<!--                                            </button>-->
<!--                                        </li>-->
<!--                                    </ul>-->
<!--                                </div>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
<!--        </div>-->
<!--    </div>-->

<!--  Reject Tab   -->

    <div class="tile" *ngIf="tab == 2">
        <div class="tile-body">
            <div class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer">
                <div class="row">
                    <div class="col-sm-12 pl-0 pr-0 table-responsive">
                        <table class="table table-hover dataTable text-center" role="grid" id="rejectTableData1"
                               aria-describedby="sampleTable_info">
                            <thead>
                            <tr role="row" class="table-bordered" >
                                <th>S.No</th>
                                <th>Asset Category</th>
                                <th>Asset Sub Category</th>
                                <th>Site</th>
                                <th>Quantity</th>
                                <th>Description</th>
                                <th>Custodian Name</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let reject of rejectedList; let i = index">
                                <td>{{(rejectQuery.page - 1) * rejectQuery.size + i + 1}}</td>
                                <td>{{reject.assetCategory || 'NA'}}</td>
                                <td>{{reject.assetSubCategory || 'NA'}}</td>
                                <td>{{reject.attrs?.siteCode || 'NA'}}</td>
                                <td>{{reject.quantity || 'NA'}}</td>
                                <td>{{reject.description || 'NA'}}</td>
                                <td >{{reject.custodianName || 'NA'}}</td>
                                <td >{{reject.status}}</td>
                                <td class="td-active">
                                    <div style="display: flex;justify-content: center;">
                                        <button class="action-icon-style waves-effect waves-light"
                                                title="View Invoice" (click)="viewAsset(reject)"
                                                style="padding: 0; height: 35px;width: 35px;">
                                            <i class="fa fa-info fa-1x" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr *ngIf="!rejectCount || rejectCount === 0">
                            <td colspan="8" style="text-align: center">No Records exist.</td>
                            </tr>
                            </tbody>
                            <tfoot>
                            <tr *ngIf="rejectCount !== 0">
                                <th colSpan="11">
                                    <div class="pull-right">
                                        Total Count : {{ rejectCount || 0}}
                                    </div>
                                </th>
                            </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
        </div>
    </div>
</div>

    <ng-template #viewRejectModal class="viewExpensePop" let-c="close" let-d="dismiss">
        <div class="modal-header">
            <div class="" style="width: 100%;">
                <div class="row">
                    <div class="col-md-9">
                        <h5 class="modal-title form-head-line-style" style="color: #45a3c5">View Rejected Details</h5>
                    </div>
                    <div class="col-md-3 text-center">
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <div class="row">
<!--                <div class="col-sm-12" style="padding-top: 15px; line-height: 2">-->
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="cus-font-label">Asset Category: </label>&nbsp;
                        <span class="shift-tem-text-Re">{{ viewRejectAssetDetails.assetCategory|| 'NA'}}</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="cus-font-label">Asset Sub Category: </label>&nbsp;
                        <span class="shift-tem-text-Re">{{ viewRejectAssetDetails.assetSubCategory|| 'NA'}}</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="cus-font-label">Custodian Name: </label>&nbsp;
                        <span class="shift-tem-text-Re">{{ viewRejectAssetDetails.custodianName|| 'NA'}}</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="cus-font-label">Custodian Number: </label>&nbsp;
                        <span class="shift-tem-text-Re">{{ viewRejectAssetDetails.custodianNumber|| 'NA'}}</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="cus-font-label">Quantity: </label>&nbsp;
                        <span class="shift-tem-text-Re">{{ viewRejectAssetDetails.quantity|| 'NA'}}</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label class="cus-font-label">Asset Description: </label>&nbsp;
                        <span class="shift-tem-text-Re">{{ viewRejectAssetDetails.description|| 'NA'}}</span>
                    </div>
                </div>
<!--                </div>-->
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary btn-sm btn-all-shadow waves-effect waves-light"
                    title="Ack" (click)="close()"> Close
            </button>
        </div>
    </ng-template>
<ng-template #myModal class="viewExpensePop" let-c="close" let-d="dismiss">
    <div class="modal-header">
        <div class="" style="width: 100%;">
            <div class="row">
                <div class="col-md-9">
                    <h5 class="modal-title form-head-line-style" style="color: #45a3c5">Upload Asset Image</h5>
                </div>
                <div class="col-md-3 text-center">
                </div>
            </div>
        </div>
    </div>
    <div class="modal-body">
        <div class="row">
<!--            <div class="col-sm-12" style="padding-top: 15px; line-height: 2">-->
                <div class="col-sm-6 form-group text-left">
                    <label class="control-label">Quantity <b class="mandatory-field">*</b></label>
                    <input class="form-control form-control-sm" type="number"
                           [(ngModel)]="custodianUploadData.qty"
                           [ngModelOptions]="{standalone: true}"
                           placeholder="Enter Quantity" required/>
                </div>
<!--                <div class="col-sm-6 form-group text-left">-->
<!--                    <label class="control-label">Invoice Number <b class="mandatory-field">*</b></label>-->
<!--                    <input class="form-control form-control-sm" type="text"-->
<!--                           [(ngModel)]="custodianUploadData.invoiceNumber"-->
<!--                           [ngModelOptions]="{standalone: true}"-->
<!--                           placeholder="Enter Invoice Number" required/>-->
<!--                </div>-->
<!--            </div>-->
            <!--                   Images Upload     -->
<!--            <div class="row">-->
                <div class="col-sm-6">
                    <label class="control-label">Upload Inovice<b class="mandatory-field">*</b></label>
                    <div class="card">
                        <img src="{{custodianUploadData || './assets/img/icons/emptyIconImage.png'}}" alt="Vehicle Image"
                             class="card-img-top" height="168px">
                        <div class="btn-group btn-group-deAndrem" role="group"
                             *ngIf="custodianUploadData.panUploadUrl">
                            <button type="button" class="btn btn-sm"
                                    (click)="onClick(custodianUploadData.panUploadUrl)"
                                    data-toggle="modal"
                                    data-target="#rcUploadModal">
                                <i class="fa fa-info-circle fa-2x"></i>
                            </button>
                            <button type="button" class="btn btn-sm" *ngIf="false">
                                <i class="fa fa-times-circle fa-2x"></i>
                            </button>
                        </div>
                        <app-imageupload class="upload-btn-wrapper" [imageType]="'uploadAssetDocument'"
                                         (imageToEmit)="uploadImage($event)"></app-imageupload>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="image-preview pt-5" *ngIf="uploadPanPicDemo">
                        <img [src]="uploadPanPicDemo" height="168px" width="100%"/>
                    </div>
                </div>
            </div>
<!--        </div>-->
    </div>

    <div class="modal-footer">
        <button class="btn btn-success btn-sm btn-all-shadow waves-effect waves-light"
                title="Ack" (click)="ackUpload()">
            <i class="fa fa-thumbs-up fa-1x" aria-hidden="true"></i> Submit
        </button>
        <button class="btn btn-secondary btn-sm btn-all-shadow waves-effect waves-light"
                title="Ack" (click)="close()"> Close
        </button>
    </div>

</ng-template>

<!-- Pdf Download -->

<!DOCTYPE html>
<html lang="en" style="display: none">
<head>
    <meta charset="UTF-8">
    <title>PO</title>
</head>
<body>
<div style="border: 1px solid; font-family: 'Ubuntu', sans-serif; font-size: 10px;width: 100%; margin: 0 auto;"
     id="pdfTable">
    <div style="width: 100%; height: 100%">
        <table style="width:100%; padding: 30px">
            <tbody>
            <!--                    <tr>-->
            <!--                        <th style="text-align: left">Zipzap Logistics Pvt Ltd</th>-->
            <!--                    </tr>-->
            <td><b style="padding: 5px;line-height: 20px !important;font-size: 16px;">Zipzap Logistics Pvt Ltd</b><br>
                <span style="padding: 5px !important; line-height: 20px; font-size: 14px">132, Marigold Tower, L&T Serene Count Gachibowli,</span><br>
                <span style="padding: 5px !important; line-height: 20px; font-size: 14px">Hyderabad - 500032</span><br>
                <span style="padding: 5px !important; line-height: 20px; font-size: 14px">Mobile: 9845710362</span></td>
            <td colspan="2" style="text-align: center">
                <img src="Whizzard.png" width="150px" height="80px">
            </td>
            <tr>
                <td style="text-align: center; font-size: 20px" colspan="3"> <h3>Purchase Order</h3></td>
            </tr>
            <tr>
                <td colspan="2" style="padding: 5px !important; font-size: 14px; font-weight: 700">Date</td>
                <td style="padding: 5px !important; font-size: 14px; font-weight: 700">P.O. number</td>
            </tr>
            <tr>
                <td colspan="2" style="padding: 5px !important; line-height: 15px; font-size: 14px; font-weight: 700">{{poData.poDate}}</td>
                <td style="padding: 5px !important; line-height: 15px; font-size: 14px; font-weight: 700">{{poData.indentNumber}}</td>
            </tr>
            <tr>
                <td colspan="3" style="font-size: 14px; padding: 10px 5px; font-weight: 700">
                    With respect to your Proforma Invoice No: {{poData.proformaInvoiceNumber || 'NA'}},
                    dated {{poData.proformaDate}}, we are pleased to place the order as per the details given below</td>
            </tr>
            <tr >
                <th style="text-align: left; font-size: 14px; padding: 5px"> Vendor</th>
                <th style="text-align: left; font-size: 14px; padding: 5px"> Bill To <br>
                    ZipZap Logistics Pvt Ltd</th>
                <th style="text-align: left; font-size: 14px;padding: 5px "> Ship To</th>
            </tr>
<!--            <tr>-->
<!--                <th style="text-align: left; font-size: 14px;padding: 5px">{{poData.beneficiaryName}}</th>-->
<!--                <th style="text-align: left; font-size: 14px; padding: 5px">8th floor,801/A,krishe Block 1-89/3/B/40-42/KS/801A, Krishe Sapphire, Hi-Tech City Road, Madhapur, Hyderabad, Ranagareddy,500081,India"-->
<!--                    "PAN Number: AABCZ2432M" +-->
<!--                    "GSTIN 36AABCZ2432M1Z4"-->
<!--                </th>-->
<!--                <th style="text-align: left;font-size: 14px; padding: 0 5px">{{poData.shippingAddress}}</th>-->
<!--            </tr>-->
            <!--style="outline: thin solid"-->
            <tr >
                <td>
                    <span style="font-size: 14px;padding: 5px">{{poData.beneficiaryName || 'NA'}}</span> <br>
                    <span style="font-size: 14px;padding: 5px">{{poData.vendorAddress || 'NA'}}</span>
<!--                    <span style="font-size: 14px;padding: 5px">Bangalore  560037</span><br>-->
<!--                    <span style="font-size: 14px;padding: 5px"> Phone No.080-41693607</span><br>-->
<!--                    <span style="font-size: 14px;padding: 5px">GSTIN:29AAKCS7937D1ZW</span><br>-->
<!--                    <span style="font-size: 14px;padding: 5px"><a href="">www.sensel.in</a></span>-->
                </td>
                <td>
<!--                    <span style="font-size: 14px;padding: 5px">{{poData.billingAddress || 'NA'}}</span>-->
                    <span style="font-size: 14px;padding: 5px">8th floor,801/A,krishe Block 1-89/3/B/40-42/KS/801A</span>
                    <span style="font-size: 14px;padding: 5px">Krishe Sapphire, Hi-Tech City Road, Madhapur</span><br>
                    <span style="font-size: 14px;padding: 5px">Madhapur, Hyderabad, Ranagareddy,500081,India</span><br>
                    <span style="font-size: 14px;padding: 5px"><a href=""><b>PAN Number:</b> AABCZ2432M</a></span>
                    <span style="font-size: 14px;padding: 5px"><a href=""><b>GSTIN:</b> 36AABCZ2432M1Z4</a></span>
                </td>
                <td>
                    <span style="font-size: 14px;padding: 5px">{{poData.shippingAddress || 'NA'}}</span>
<!--                    <span style="font-size: 14px;padding: 5px">Gachibowli, Hyderabad - 500032</span><br>-->
<!--                    <span style="font-size: 14px;padding: 5px">GSTIN:36AABCZ2432M1Z4</span><br>-->
<!--                    <span style="font-size: 14px;padding: 5px">Mobile: +91-7406122408</span><br>-->
<!--                    <span style="font-size: 14px;padding: 5px"><a href="">sakthivel.r@whizzard.in</a></span>-->
                </td>
            </tr>
            <tr>
                <td colspan="3" style="text-align: -webkit-center; padding: 10px">
                    <table style="border: 1px solid black; border-collapse: collapse; text-align: center!important; width: 100%">
                        <thead>
                        <tr>
                            <th style="font-size: 14px;padding: 5px; border-top: 1px solid;">#item</th>
                            <th style="border-right: 1px solid; font-size: 14px;padding: 5px">Description</th>
                            <th style="border-right: 1px solid; font-size: 14px;padding: 5px">Asset Sub Category</th>
                            <th style="border-right: 1px solid; font-size: 14px;padding: 5px">Qty</th>
                            <th style="border-right: 1px solid; font-size: 14px;padding: 5px">Rate</th>
                            <th style="border-right: 1px solid; font-size: 14px;padding: 5px">GST</th>
                            <th style="font-size: 14px;padding: 5px">Total Price</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let data of poData['itemsList']; let i = index">
                            <td style="font-size: 14px;padding: 5px; border-top: 1px solid; border-bottom: 1px solid">{{data.serialNumber}}</td>
                            <td style="border-top: 1px solid; border-right: 1px solid; font-size: 14px; padding: 5px; border-bottom: 1px solid">{{data.description}}</td>
                            <td style="border-top: 1px solid; border-right: 1px solid; font-size: 14px; padding: 5px; border-bottom: 1px solid">{{data.assetSubCategory}}</td>
                            <td style="border-top: 1px solid; border-right: 1px solid; font-size: 14px; padding: 5px; border-bottom: 1px solid">{{data.quantity}}</td>
                            <td style="border-top: 1px solid; border-right: 1px solid; font-size: 14px; padding: 5px; border-bottom: 1px solid">{{data.rate}}</td>
                            <td style="border-top: 1px solid; border-right: 1px solid; font-size: 14px; padding: 5px; border-bottom: 1px solid">{{data.gstAmount}}</td>
                            <td style="border-top: 1px solid; border-right: 1px solid; font-size: 14px; padding: 5px; border-bottom: 1px solid">{{data.totalAmount}}</td>
                        </tr>
<!--                        <tr>-->
<!--                            <td style="border-top: 1px solid; padding: 10px 5px; font-size: 14px;padding: 5px"></td>-->
<!--                            <td style="border-top: 1px solid; border-right: 1px solid; padding: 10px 5px; font-size: 14px; padding: 5px"></td>-->
<!--                            <td style="border-top: 1px solid; border-right: 1px solid; font-size: 14px;padding: 5px"></td>-->
<!--                            <td style="border-top: 1px solid;  font-size: 14px;padding: 5px"></td>-->
<!--                            <td style="border-top: 1px solid;  font-size: 14px;padding: 5px"></td>-->
<!--                            <td style="border-top: 1px solid;  font-size: 14px;padding: 5px"></td>-->
<!--&lt;!&ndash;                            <td ></td>&ndash;&gt;-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td colspan="2" style="border-top: 1px solid; border-right: 1px solid; font-size: 14px; font-weight: 700; padding: 5px">Total</td>-->
<!--                            <td style="border-right: 1px solid; font-size: 14px; padding: 5px">{{poData.quantity}}</td>-->
<!--                            <td style="border-bottom: 1px solid; font-size: 14px; font-weight: 700; padding: 5px">{{poData.rate}}</td>-->
<!--                            <td style="border-right: 1px solid; border-bottom: 1px solid; font-size: 14px; font-weight: 700; padding: 5px">{{poData.totalAmount}}</td>-->
<!--                        </tr>-->
<!--                        <tr>-->
<!--                            <td colspan="2" style="border-right: 1px solid; font-size: 14px; font-weight: 700; padding: 5px">GST</td>-->
<!--                            <td style="border-right: 1px solid; font-size: 14px;padding: 5px"></td>-->
<!--                            <td style="border-bottom: 1px solid; padding: 5px"></td>-->
<!--                            <td style="border-bottom: 1px solid; font-size: 14px; font-weight: 700;padding: 5px">{{data.gstAmount}}</td>-->
<!--                        </tr>-->
                        <tr>
                            <td colspan="3" style="border-right: 1px solid; padding: 5px; font-weight: 700; font-size: 14px"></td>
                            <td style="border-right: 1px solid; padding: 5px"></td>
                            <td style="font-size: 14px; font-weight: 700; padding: 5px" colspan="2">Total</td>
                            <td style="font-size: 14px; font-weight: 700; padding: 5px">{{poData.totalAmount}}</td>
                        </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
            <tr>
                <td colspan="3" style="font-size: 14px; font-weight: 700; padding: 5px">Rupees: {{poData.totalAmount | amountWords}}.</td>
            </tr>
            <tr >
                <td ></td>
                <td ></td>
                <td style="font-size: 14px; font-weight: 700; padding: 5px">For ZIPZAP Logistics Pvt Ltd</td>
            </tr>
            <tr style="line-height: 100px">
                <td></td>
                <td></td>
                <td style="font-size: 14px; font-weight: 700; padding: 5px">Authorised Signatory</td>
            </tr>
            <tr>
                <td colspan="2">
                    <span style="padding: 5px; font-size: 14px; font-weight: 700">Terms & Conditions :</span><br>
                    <span style="padding: 5px !important;  font-size: 14px">{{poData.terms}}</span><br>
<!--                    <span style="padding: 5px !important; font-size: 14px">Balance will be paid on Dispatch Confirmation</span><br>-->
                    <span style="padding: 5px !important;  font-size: 14px">The seller will be fully responsible for all statutory compliance's, permissions (if any) required to work ordered by ZipZap Logistics Pvt Ltd</span><br>
                    <span style="padding: 5px !important; font-size: 14px">All disputes are subject to Hyderabad jurisdiction</span><br>
                </td>
            </tr>
            <tr>
                <td></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>

